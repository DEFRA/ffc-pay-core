#!/usr/bin/env sh

# Clone repositories managed by this project
set -e
projectRoot=$(a="/$0"; a=${a%/*}; a=${a:-.}; a=${a#/}/; cd "$a/.." || return; pwd)

(
  cd "${projectRoot}"

  printf "\nCloning repositories\n"

  test -d ffc-pay-batch-verifier\
    && >&2 echo "The 'ffc-pay-batch-verifier' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-batch-verifier.git
  test -d ffc-pay-batch-processor\
    && >&2 echo "The 'ffc-pay-batch-processor' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-batch-processor.git
  test -d ffc-pay-enrichment\
    && >&2 echo "The 'ffc-pay-enrichment' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-enrichment.git
  test -d ffc-pay-processing\
    && >&2 echo "The 'ffc-pay-processing' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-processing.git
  test -d ffc-pay-submission\
    && >&2 echo "The 'ffc-pay-submission' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-submission.git
  test -d ffc-pay-file-publisher\
    && >&2 echo "The 'ffc-pay-file-publisher' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-file-publisher.git
  test -d ffc-pay-file-receiver\
    && >&2 echo "The 'ffc-pay-file-receiver' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-file-receiver.git
  test -d ffc-pay-responses\
    && >&2 echo "The 'ffc-pay-responses' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-responses.git
  test -d ffc-pay-tracking\
    && >&2 echo "The 'ffc-pay-tracking' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-tracking.git
  test -d ffc-pay-web\
    && >&2 echo "The 'ffc-pay-web' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-web.git
  test -d ffc-pay-request-editor\
    && >&2 echo "The 'ffc-pay-request-editor' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-request-editor.git
  test -d ffc-pay-event-hub\
    && >&2 echo "The 'ffc-pay-event-hub' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-event-hub.git
    test -d ffc-pay-data-hub\
    && >&2 echo "The 'ffc-pay-data-hub' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-data-hub.git
  test -d ffc-pay-report-generator\
    && >&2 echo "The 'ffc-pay-report-generator' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-report-generator.git
  test -d ffc-pay-alerting\
    && >&2 echo "The 'ffc-pay-alerting' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-alerting.git  
  test -d ffc-pay-statement-data\
    && >&2 echo "The 'ffc-pay-statement-data' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-statement-data.git
  test -d ffc-pay-statement-constructor\
    && >&2 echo "The 'ffc-pay-statement-constructor' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-statement-constructor.git
  test -d ffc-pay-statement-generator\
    && >&2 echo "The 'ffc-pay-statement-generator' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-statement-generator.git
  test -d ffc-pay-statement-publisher\
    && >&2 echo "The 'ffc-pay-statement-publisher' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-statement-publisher.git
  test -d ffc-pay-statement-receiver\
    && >&2 echo "The 'ffc-pay-statement-receiver' repository already exists. Skipping." \
    || git clone https://github.com/DEFRA/ffc-pay-statement-receiver.git
)
